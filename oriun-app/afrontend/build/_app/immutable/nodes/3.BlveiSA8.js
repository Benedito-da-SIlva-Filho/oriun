import"../chunks/DsnmJJEf.js";import"../chunks/C4MBcl3S.js";import{aA as E,az as A,R as O,a2 as R,h as T,aB as i,aC as B,f as j,a as I,U as n,$ as v,Z as u,n as C,_ as p,aD as b,aE as w}from"../chunks/DNvMS1O1.js";import{e as M}from"../chunks/Bhd9MVUM.js";import{r as _}from"../chunks/CFEK9SRx.js";function q(e,a,o=a){var t=new WeakSet;E(e,"input",async l=>{var s=l?e.defaultValue:e.value;if(s=x(e)?g(s):s,o(s),i!==null&&t.add(i),await A(),s!==(s=a())){var d=e.selectionStart,c=e.selectionEnd;e.value=s??"",c!==null&&(e.selectionStart=d,e.selectionEnd=Math.min(c,e.value.length))}}),(T&&e.defaultValue!==e.value||O(a)==null&&e.value)&&(o(x(e)?g(e.value):e.value),i!==null&&t.add(i)),R(()=>{var l=a();if(e===document.activeElement){var s=B??i;if(t.has(s))return}x(e)&&l===g(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function V(e,a,o=a){E(e,"change",t=>{var l=t?e.defaultChecked:e.checked;o(l)}),(T&&e.defaultChecked!==e.checked||O(a)==null)&&o(e.checked),R(()=>{var t=a();e.checked=!!t})}function x(e){var a=e.type;return a==="number"||a==="range"}function g(e){return e===""?null:+e}var D=j('<div class="cabecalho svelte-4cjrqk"><img src="https://i.postimg.cc/k5MqWRhd/Cabec.png" alt="Logotipo da Consiste Informática" class="logo-topo svelte-4cjrqk"/></div>');function N(e){var a=D();I(e,a)}var P=j('<div class="center-wrapper svelte-1smkwxp"><div class="container svelte-1smkwxp"><!> <div class="top-banner svelte-1smkwxp"></div> <div class="oriun-logo svelte-1smkwxp"><img src="https://i.postimg.cc/kXPtFyrS/Oriun-logo.png" alt="Logo Oriun" class="svelte-1smkwxp"/></div> <p class="welcome-text svelte-1smkwxp">Olá! Que bom ter você aqui!</p> <p class="system-title svelte-1smkwxp">Acesse o Sistema de Rastreabilidade Bovina</p> <div class="login-section svelte-1smkwxp"><p class="svelte-1smkwxp">Conecte-se</p> <label for="seu-id" class="svelte-1smkwxp">Seu ID:</label> <input type="text" id="seu-id" class="svelte-1smkwxp"/> <label for="sua-senha" class="svelte-1smkwxp">Sua Senha:</label> <input type="password" id="sua-senha" class="svelte-1smkwxp"/> <div class="remember-me svelte-1smkwxp"><input type="checkbox" id="lembrar-me"/> <label for="lembrar-me" class="svelte-1smkwxp">Lembrar-me</label></div> <button class="btn-enter svelte-1smkwxp">ENTRAR</button> <p class="forgot-password svelte-1smkwxp">Esqueceu sua senha? <a href="/recuperar-senha" class="svelte-1smkwxp">Clique aqui!</a></p></div></div></div>');function Q(e){let a=w(""),o=w(""),t=w(!1);async function l(){try{const m=await(await fetch("http://127.0.0.1:8000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n(a),password:n(o)})})).json();m.token?(console.log("Login bem-sucedido! Token:",m.token),n(t)?localStorage.setItem("oriun_token",m.token):sessionStorage.setItem("oriun_token",m.token),window.location.href="/dashboard"):alert("Credenciais inválidas. Tente novamente.")}catch(r){console.error("Erro ao conectar com o servidor:",r),alert("Erro de conexão. Verifique se o backend está rodando.")}}var s=P(),d=u(s),c=u(d);N(c);var y=v(c,10),k=v(u(y),4);_(k);var f=v(k,4);_(f);var h=v(f,2),S=u(h);_(S),C(2),p(h);var L=v(h,2);C(2),p(y),p(d),p(s),q(k,()=>n(a),r=>b(a,r)),q(f,()=>n(o),r=>b(o,r)),V(S,()=>n(t),r=>b(t,r)),M("click",L,l),I(e,s)}export{Q as component};
